{"version":3,"file":"static/js/884.9471dda3.chunk.js","mappings":"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","sources":["pages/MovieDetails.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, Suspense } from \"react\";\nimport { useParams, useLocation, NavLink, Link, Outlet } from \"react-router-dom\";\nimport api from \"components/services/api\";\nimport  css from \"components/App.module.css\";\nimport { Loader } from \"components/Loader/Loader\";\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState({});\n  const location = useLocation();\n  const backLinkRef = useRef(location.state?.from ?? \"/movie\");\n  const [error, setError] = useState(null);\n  const [image, setImage] = useState(null);\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    const fetchMovieDetails = async () => {\n      try {\n        const response = await api.get(`/movie/${movieId}`);\n        setMovieDetails(response.data);\n      } catch (error) {\n        setError('Error fetching images. Please try again.');\n      }\n    };\n\n    fetchMovieDetails();\n  }, [movieId]);\n\n \n  useEffect(() => {\n    const fetchImages = async () => {\n      try {\n        const response = await api.get(`/movie/${movieId}/images`);\n        const firstImage = response.data.backdrops[0]; \n        setImage(firstImage);\n      } catch (error) {\n        setError('Error fetching images. Please try again.');\n      }\n    };\n\n    fetchImages();\n  }, [movieId]);\n\n\n  return (\n  <div>\n  <Link to={backLinkRef.current}>Go back</Link>\n   <h2>{movieDetails.title}</h2>\n   <h3>Overview</h3>\n   <p>{movieDetails.overview} </p>\n    {image && (\n        <img\n          key={image.file_path}\n          src={`https://image.tmdb.org/t/p/original/${image.file_path}`}\n          alt=\"\" \n          width={400}\n          height={300}\n        />\n      )} \n  <p>Additional information</p>      \n  <NavLink className={({ isActive }) => `${css.navLink} ${isActive ? css.active : ''}`} to={'cast'} >Cast</NavLink>\n<NavLink className={({ isActive }) => `${css.navLink} ${isActive ? css.active : ''}`} to={'reviews'}>Reviews</NavLink>\n  \n   <div>\n    <Suspense fallback={<Loader className={css.loader} />}>\n      <Outlet/>\n    </Suspense>\n    \n    {error && <p style={{ color: 'red' }}>{error}</p>}\n    </div>\n</div>\n);\n};\n\nexport default MovieDetails;"],"names":["_location$state$from","_location$state","movieId","useParams","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","location","useLocation","backLinkRef","useRef","state","from","_useState3","_useState4","error","setError","_useState5","_useState6","image","setImage","useEffect","fetchMovieDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","api","concat","sent","data","t0","stop","apply","arguments","fetchImages","_ref2","_callee2","firstImage","_context2","backdrops","_jsxs","children","_jsx","Link","to","current","title","overview","src","file_path","alt","width","height","NavLink","className","_ref3","isActive","css","_ref4","Suspense","fallback","Loader","Outlet","style","color"],"sourceRoot":""}